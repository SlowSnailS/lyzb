"use strict";define(["jquery","cookie"],function(){function t(t,e){this.srcele=$(t),this.desele=$(e),this.init()}function e(t,e,n){this.srcele=$(t),this.desele=$(e),this.changeele=$(n),this.init()}function i(t){if(t){t=JSON.parse(t);for(var e="",n=0,s=0,i=0;i<t.length;i++){e+='<li class="ui-repeater-item ui-repeater-item-first fn-clear product" >\n\t\t\t\t\t\t\t            \t\t\t<a class="fn-left product-photo" href="/pro24061.html">\n\t\t\t\t\t\t\t            \t\t\t\t<img src='+t[i].imgSrc+' width="60" height="60">\n\t\t\t\t\t\t\t            \t\t\t</a>\n\t\t\t\t\t\t\t            \t\t\t<a class="fn-left ml10" href="/pro.html">\n\t\t\t\t\t\t\t            \t\t\t\t\t<div class="product-name">'+t[i].description+'</div>\n\t\t\t\t\t\t\t            \t\t\t\t\t<div class="product-info"></div>\n\t\t\t\t\t\t\t            \t\t\t</a>\n\t\t\t\t\t\t\t            \t\t\t<div class="fn-left product-handle fn-right">\n\t\t\t\t\t\t\t            \t\t\t\t<div class="product-rmb">\n\t\t\t\t\t\t\t            \t\t\t\t\t<span class="fc-red">￥ '+t[i].prices+'</span>\n\t\t\t\t\t\t\t            \t\t\t\t\t<span class="fs-12">X '+t[i].num+'</span>\n\t\t\t\t\t\t\t            \t\t\t\t</div>\n\t\t\t\t\t\t\t            \t\t\t\t<a class="product-func" href="javascript:;" name="dl" data-id='+t[i].id+">删除</a>\n\t\t\t\t\t\t\t            \t\t\t</div>\n\t\t\t\t\t\t\t            \t\t</li>",n+=t[i].num,s+=t[i].num*t[i].prices}$("#list").html(e),$("#spCount2").html(n),$("#spTotal").html("￥  "+s.toFixed(2))}}t.prototype={constructor:t,init:function(){var e=this;this.srcele.on("mouseenter",function(){e.desele.css("display","block")}),this.srcele.on("mouseleave",function(t){"SPAN"!=t.target.nodeName&&e.desele.css("display","none")})}},e.prototype={constructor:e,init:function(){var n=this;this.srcele.on("click",function(t){var e=t.target;n.desele.each(function(){this==e&&(n.desele.removeClass("active"),$(e).addClass("active"),n.changeele.text($(e).text()))})})}},new t(".deliver","#J-dropmenu-deliver"),new t(".phoneapp","#J-dropmenu-phones"),new t(".helpcenter","#J-dropmenu-helps"),new e(".deliver .dropdowncont",".deliver .dropdowncont span",".deliver-city"),$.ajax({type:"GET",url:"json/hot.json",dataType:"json",success:function(t){$("#HotSearch").html(t.content)}}),$.ajax({type:"GET",url:"json/sec.json",dataType:"json",success:function(t){for(var e=0;e<$(".fn-clear-menu").length;e++)$(".fn-clear-menu").eq(e).html(t[e].Html)}});var n=null,s=$.cookie("car");i(s),n=s,$("#J-dropmenu1").on("mouseenter",function(t){var e=$.cookie("car");$("#J-cart-box").css({display:"block"}),n!=e&&(i(e),n=e)}),$("#J-dropmenu1").on("mouseleave",function(t){$("#J-cart-box").css({display:"none"})}),$("#list").on("click",function(t){if("A"==t.target.nodeName){var e=$(t.target).attr("data-id"),n=$.cookie("car");n=JSON.parse(n);for(var s=0;s<n.length;s++)if(n[s].id==e){n.splice(s,1),n=JSON.stringify(n),$.cookie("car",n),i(n);break}}})});