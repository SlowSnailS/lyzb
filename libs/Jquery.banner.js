"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define(["jquery"],function(){!function(s){function n(t,i){this.init(t,i)}s.fn.WBanner=function(t,i){new n(t,i)},n.prototype={constructor:n,init:function(t,i){this.index=0,this.wrapEle=s(t),this.parent=s(t).parent(),this.method=i.method,this.bannerItem=this.wrapEle.children(),this.itemNum=this.bannerItem.length,this.pagination=s(i.pagination?i.pagination.ele:"");for(var n=0;n<this.itemNum;n++){var e=s("<span><i></i></span>");0==n&&e.addClass("W-active"),this.pagination.append(e)}this.paginationItem=this.pagination.children(),this.paginationItem.on("click.changeIndex",{turn:"toIndex"},s.proxy(this.change_index,this)),this.paginationItem.on("click.animation",{turn:"toIndex"},s.proxy(this.animation,this)),"object"==_typeof(i.navigation)&&(this.btnPrev=s(i.navigation.prevEle),this.btnNext=s(i.navigation.nextEle),this.btnPrev.on("click.changeIndex",{turn:"prev"},s.proxy(this.change_index,this)).on("click.animation",{turn:"prev"},s.proxy(this.animation,this)),this.btnNext.on("click.changeIndex",{turn:"next"},s.proxy(this.change_index,this)).on("click.animation",{turn:"next"},s.proxy(this.animation,this))),i.loop&&(this.timer=setInterval(function(){this.prev=this.index,this.index=++this.index%this.itemNum;var t={data:{turn:"next"}};this.animation(t)}.bind(this),2e3),this.parent.on("mouseenter",function(){clearInterval(this.timer)}.bind(this)),this.parent.on("mouseleave",function(){clearInterval(this.timer),this.timer=setInterval(function(){this.prev=this.index,this.index=++this.index%this.itemNum;var t={data:{turn:"next"}};this.animation(t)}.bind(this),2e3)}.bind(this)))},change_index:function(t){var i={prev:function(){this.prev=this.index,0==this.index?this.index=this.itemNum-1:this.index--}.bind(this),next:function(){this.prev=this.index,this.index==this.itemNum-1?this.index=0:this.index++}.bind(this),toIndex:function(){this.prev=this.index,this.index=s(t.target).index()}.bind(this)};if("function"==!_typeof(i[t.data.turn]))return 0;i[t.data.turn]()},animation:function(t){if(this.prev!=this.index){var i={slideFadeInit:function(){this.bannerItem.eq(this.prev).css({zIndex:1}).siblings().css({zIndex:""})}.bind(this),slide:function(){i.slideFadeInit(),this.bannerItem.eq(this.index).addClass("W-active").css({display:"none",zIndex:2}).stop().slideDown().siblings().removeClass("W-active")}.bind(this),fade:function(){i.slideFadeInit(),this.bannerItem.eq(this.index).addClass("W-active").css({display:"none",zIndex:2}).stop().fadeIn().siblings().removeClass("W-active")}.bind(this),scroll:function(){this.bannerItem.css({zIndex:0}).eq(this.prev).css({zIndex:2}),this.prev>this.index&&(this.prev!=this.itemNum-1||0!=this.index||"toIndex"==t.data.turn)||0==this.prev&&this.index==this.itemNum-1&&"toIndex"!=t.data.turn?this.bannerItem.eq(this.prev).stop().animate({left:this.bannerItem.outerWidth()}).end().eq(this.index).css({left:-this.bannerItem.outerWidth(),zIndex:2}).stop().animate({left:0}):this.bannerItem.eq(this.prev).stop().animate({left:-this.bannerItem.outerWidth()}).end().eq(this.index).css({left:this.bannerItem.outerWidth(),zIndex:2}).stop().animate({left:0})}.bind(this)};i[this.method](),this.pagination.children().eq(this.index).addClass("W-active").siblings().removeClass("W-active")}}}}(jQuery)});